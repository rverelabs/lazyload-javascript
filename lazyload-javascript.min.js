document.addEventListener("DOMContentLoaded",(function(){for(var e=document.getElementsByClassName("load-onscroll"),t={},n=!1,o=0;o<e.length;o++){var r=e[o],c=r.dataset.depth?parseInt(r.dataset.depth):0;t[c]=Array.isArray(t[c])?t[c].push(r):[r]}function a(e){for(var t=0;t<e.length;t++){var n=e[t],o=document.createElement("div");o.innerHTML=n.textContent;var r=o.firstElementChild,c=document.createElement("script");c.type="text/javascript",c.async=!0;for(var a=0;a<r.attributes.length;a++)c.setAttribute(r.attributes[a].nodeName,r.attributes[a].nodeValue);if(!c.src){var i=new Blob([r.innerHTML],{type:"text/javascript"}),s=URL.createObjectURL(i);c.src=s,c.async=!1}n.parentNode.insertBefore(c,n),n.parentElement.removeChild(n)}}window.addEventListener("scroll",(function e(){var o,r;o=function(){var n=document.body,o=document.documentElement,r=Math.max(n.scrollHeight,n.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),c=window.innerHeight||o.clientHeight,i=((n.scrollTop||o.scrollTop)+c)/(r-5)*100,s=Object.keys(t);for(var d of s)d<=i&&(a(t[d]),delete t[d]);0==Object.keys(t).length&&window.removeEventListener("scroll",e)},r=500,n||(n=!0,setTimeout((function(){n=!1}),r),o())}));var i={touch:["touchmove","touchend"],mouse:["mousemove","click","keydown","scroll"]},s=function(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var t=["(",e.join("touch-enabled),("),"hsterminal",")"].join("");return window.matchMedia(t).matches}()?i.touch:i.mouse;function d(){var e;e="load-onaction",a(document.getElementsByClassName(e)),s.forEach((function(e){document.removeEventListener(e,d)}))}s.forEach((function(e){document.addEventListener(e,d)}))}));
